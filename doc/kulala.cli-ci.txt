*kulala.cli-ci.txt*         A fully-featured REST Client Interface for Neovim.

==============================================================================
Table of Contents                            *kulala.cli-ci-table-of-contents*

1. CLI and CI                                       |kulala.cli-ci-cli-and-ci|
  - Installation and Requirements|kulala.cli-ci-cli-and-ci-installation-and-requirements|
  - Configuration                     |kulala.cli-ci-cli-and-ci-configuration|
  - Kulala CLI                           |kulala.cli-ci-cli-and-ci-kulala-cli|
  - Kulala CI                             |kulala.cli-ci-cli-and-ci-kulala-ci|

==============================================================================
1. CLI and CI                                       *kulala.cli-ci-cli-and-ci*

The Kulala CLI is a command-line interface that allows you to execute HTTP
files from the command line.

It can be used standalone or as part of a CI/CD pipeline, effectively turning
your HTTP files into an API test suite.


INSTALLATION AND REQUIREMENTS*kulala.cli-ci-cli-and-ci-installation-and-requirements*

Kulala CLI is basically a CLI interface for Kulala, so it requires Neovim
(nvim) and curl to be present on your PATH.

You can install it either as you would usually install Kulala as a Neovim
plugin, or you can manually clone the repository.

Optionally, grpcurl (for GRPC), websocat (for Websockets), jq (for JSON
formatting) and nvim-treesitter for response highlighting may be installed.

The CLI executable is `kulala.nvim/lua/cli/kulala_cli.lua` file, which you can
put on your PATH.


CONFIGURATION                         *kulala.cli-ci-cli-and-ci-configuration*

The CLI comes with some sane defaults, but you can override them in several
ways:


CONFIG RESOLUTION ORDER (LOWEST TO HIGHEST PRIORITY)

1. **Default CLI config** (`kulala.nvim/lua/cli/config.lua`)
2. **User config** (`~/.config/nvim/kulala/cli.lua`)
3. **Project-local config** (`.kulala-cli.lua` in current working directory)
4. **CLI-specified config** (`-c` or `--config` option)
5. **Inline overrides** (`--set` option)
6. **Direct CLI flags** (`-e`, `-v`, `--halt`, etc.)


CUSTOM CONFIG FILE

You can specify a custom config file with the `-c` or `--config` option:

>bash
    kulala_cli -c ./my-config.lua api.http
<


INLINE CONFIG OVERRIDES

You can override specific config values with the `--set` option. Multiple
values can be passed space-separated:

>bash
    # Override a simple value
    kulala_cli --set default_env=prod api.http
    
    # Override nested values using dot notation
    kulala_cli --set ui.default_view=verbose api.http
    
    # Override multiple values
    kulala_cli --set default_env=prod halt_on_error=true request_timeout=5000 api.http
<


PROJECT-LOCAL CONFIG

Create a `.kulala-cli.lua` file in your project root to set project-specific
defaults:

>lua
    -- .kulala-cli.lua
    return {
      default_env = "dev",
      halt_on_error = true,
      ui = {
        default_view = "report",
      },
    }
<


KULALA CLI                               *kulala.cli-ci-cli-and-ci-kulala-cli*

>text
    Usage: 
    
          Kulala CLI [--list] [--halt] [-m] [-h] 
    
          [-v {body,headers,headers_body,verbose,script_output,report}]
    
          [-e <env>] [-n <name> ...] [-l <line> ...]
    
          [-c <config>] [--set <key=value> ...]
    
          [<input>] ...
    
    Commands:
          import [<path>]            Import HTTP collection from Postman/OpenAPI/Bruno
          export [<path>]            Export HTTP file or folder to Postman collection
    
    Arguments:
    
          input                      Path to folder or HTTP file/s
                                
    Options:                    
    
          --list                     List requests in HTTP file
                                    
          --name (-n) [<name>] ...   Filter requests by name
                                    
          --line (-l) [<line>] ...   Filter requests by line #
                                    
          --env (-e) <env>           Environment
    
          --sub (-s) <var=value> ... Substitute variable(s)
                                    
          --view (-v)                Response view
                                      {body,headers,headers_body,verbose,script_output,report}
                                    
          --halt                     Halt on error
                                    
          --mono (-m)                No color output
    
          --config (-c) <path>       Path to custom config file
    
          --set <key=value> ...      Override config values (supports nested keys)
    
          --from (-f)                Import from {postman, openapi, bruno}
    
          --help (-h)                Help
<

>bash
    kulala_cli http_examples/cli.http -e prod -v report -n Login Request -l 15 20 
    kulala_cli cli.http grpc.http --sub token=abcd1234 user=42
    kulala_cli http_examples --list
    
    # Use a custom config file
    kulala_cli -c ./my-config.lua api.http
    
    # Override config values inline
    kulala_cli --set default_env=prod halt_on_error=true api.http
    
    # Override nested config values
    kulala_cli --set ui.default_view=verbose ui.report.show_summary=true api.http
    
    # Combine config file with inline overrides
    kulala_cli -c ./base-config.lua --set default_env=staging api.http
    
    kulala_cli import collection.json --from postman
    kulala_cli export requests.http
<

`@prompt` and `@secret` are not supported in CLI mode and will be ignored.

The variable values must be provided via environment variables, environment
files or supplied with â€“sub option.


KULALA CI                                 *kulala.cli-ci-cli-and-ci-kulala-ci*

Kulala provides a GitHub Action to run HTTP files as part of your CI/CD
pipeline.

The action is available at Github Marketplace: Kulala Action
https://github.com/marketplace/actions/kulala-cli-action.

Or at Kulala GH Action https://github.com/mistweaverco/kulala-github-action

Example:

>yaml
    ---
    name: main
    on:
      pull_request: ~
    jobs:
      build:
        name: Run HTTP tests
        runs-on: ubuntu-latest
        steps:
          - name: Checkout repo
            uses: actions/checkout@v4
    
          - name: Setup Kulala CI
            uses: mistweaverco/kulala-github-action@v1
    
          - name: Run Kulala CI
            run: |
              kulala_cli.lua http/cli.http
              kulala_cli.lua http -v report
            shell: bash
            env:
              COLUMNS: 120
<

Generated by panvimdoc <https://github.com/kdheepak/panvimdoc>

vim:tw=78:ts=8:noet:ft=help:norl:
